<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ØªØ¬Ø± Ø§Ù„ÙˆØ±Ø¯</title>
<link rel="stylesheet" href="styles.css">
<style>
body {font-family: 'Tahoma', sans-serif; margin:0; background:#fff5f8; color:#333;}
.header {background:#e91e63; color:#fff; text-align:center; padding:15px; font-size:22px; font-weight:bold;}
.navbar {display:flex; justify-content:center; flex-wrap:wrap; background:#fff; padding:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1);}
.navbar button {margin:5px; padding:10px 15px; border:none; border-radius:20px; background:#f8bbd0; color:#333; font-weight:bold; cursor:pointer; transition:0.3s;}
.navbar button:hover, .navbar button.active {background:#e91e63; color:#fff;}
.section {display:none; padding:20px;}
.card {background:#fff; padding:10px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); text-align:center;}
.grid {display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:15px;}
.card img {width:100%; height:150px; object-fit:cover; border-radius:10px;}
.modal {position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); display:none; justify-content:center; align-items:center;}
.modal-content {background:#fff; padding:20px; border-radius:10px; width:90%; max-width:400px; position:relative;}
.close-btn {position:absolute; top:10px; right:15px; font-size:20px; cursor:pointer; color:#e91e63;}
input, select, textarea {width:100%; padding:8px; margin:5px 0; border:1px solid #ccc; border-radius:5px;}
button.submit {background:#e91e63; color:white; border:none; border-radius:5px; padding:10px 15px; cursor:pointer;}
button.submit:hover {background:#c2185b;}
</style>
</head>
<body>

<div class="header">ğŸŒ¸ Ù…ØªØ¬Ø± Ø§Ù„ÙˆØ±Ø¯</div>

<div class="navbar">
  <button class="active" onclick="showSection('bouquets')">ğŸŒ¹ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©</button>
  <button onclick="showSection('flowers')">ğŸ’ Ø§Ù„ÙˆØ±Ø¯ Ø§Ù„Ù…ØªÙˆÙØ±</button>
  <button onclick="showSection('custom')">ğŸ ØªØ®ØµÙŠØµ Ø¨Ø§Ù‚Ø©</button>
  <button onclick="showSection('contact')">â˜ï¸ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</button>
</div>

<!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø§Ù‚Ø§Øª -->
<div id="bouquets" class="section" style="display:block;">
  <h2>Ø§Ù„Ø¨Ø§Ù‚Ø§Øª Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©</h2>
  <div id="bouquetList" class="grid"></div>
</div>

<!-- Ù‚Ø³Ù… Ø§Ù„ÙˆØ±ÙˆØ¯ Ø§Ù„Ù…ØªÙˆÙØ±Ø© -->
<div id="flowers" class="section">
  <h2>Ø§Ù„ÙˆØ±Ø¯ Ø§Ù„Ù…ØªÙˆÙØ±</h2>
  <ul id="flowerList"></ul>
</div>

<!-- Ù‚Ø³Ù… ØªØ®ØµÙŠØµ Ø¨Ø§Ù‚Ø© -->
<div id="custom" class="section">
  <h2>ØªØ®ØµÙŠØµ Ø¨Ø§Ù‚ØªÙƒ Ø§Ù„Ø®Ø§ØµØ©</h2>
  <label>Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ±ÙˆØ¯:</label>
  <input type="number" id="customCount" min="1" value="1">
  <label>Ù„ÙˆÙ† Ø§Ù„ÙˆØ±Ø¯:</label>
  <select id="customColor"></select>
  <label>Ù†ÙˆØ¹ Ø§Ù„ØªØºÙ„ÙŠÙ:</label>
  <select id="customWrap"></select>
  <button class="submit" onclick="makeCustomOrder()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¹Ø± ÙˆØ£Ø±Ø³Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
</div>

<!-- Ù‚Ø³Ù… Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ -->
<div id="contact" class="section">
  <h2>Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h2>
  <textarea id="customerMsg" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ø£Ùˆ Ø§Ø³ØªÙØ³Ø§Ø±Ùƒ Ù‡Ù†Ø§..."></textarea>
  <input type="text" id="customerName" placeholder="Ø§Ø³Ù…Ùƒ">
  <input type="text" id="customerPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
  <button class="submit" onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
</div>

<!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø·Ù„Ø¨ -->
<div class="modal" id="orderModal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <h3 id="modalTitle"></h3>
    <input type="text" id="custName" placeholder="Ø§Ø³Ù…Ùƒ">
    <input type="text" id="custPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
    <button class="submit" onclick="sendOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
  </div>
</div>

<script>
let bouquets = JSON.parse(localStorage.getItem('bouquets')||'[]');
let flowers = JSON.parse(localStorage.getItem('flowers')||'["Ø£Ø­Ù…Ø±","ÙˆØ±Ø¯ÙŠ","Ø£Ø¨ÙŠØ¶"]');
let wraps = JSON.parse(localStorage.getItem('wraps')||'[{"name":"ØªØºÙ„ÙŠÙ Ø¨Ø³ÙŠØ·","price":2000},{"name":"ØªØºÙ„ÙŠÙ ÙØ§Ø®Ø±","price":5000}]');
let flowerPrice = Number(localStorage.getItem('flowerPrice')||'1000');
let orders = JSON.parse(localStorage.getItem('orders')||'[]');
let messages = JSON.parse(localStorage.getItem('messages')||'[]');
let selectedBouquet = null;

function showSection(id){
  document.querySelectorAll('.section').forEach(s=>s.style.display='none');
  document.querySelectorAll('.navbar button').forEach(b=>b.classList.remove('active'));
  document.getElementById(id).style.display='block';
  event.target.classList.add('active');
}

function renderBouquets(){
  const list=document.getElementById('bouquetList');
  list.innerHTML='';
  if(bouquets.length===0) list.innerHTML='<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨Ø§Ù‚Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹.</p>';
  bouquets.forEach((b,i)=>{
    let div=document.createElement('div');
    div.className='card';
    div.innerHTML=`<img src="${b.image}" alt=""><h3>${b.name}</h3><p>${b.description||''}</p><button class="submit" onclick="openModal(${i})">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>`;
    list.appendChild(div);
  });
}
renderBouquets();

function openModal(i){
  selectedBouquet = bouquets[i];
  document.getElementById('modalTitle').innerText = selectedBouquet.name;
  document.getElementById('orderModal').style.display='flex';
}

function closeModal(){
  document.getElementById('orderModal').style.display='none';
}

function sendOrder(){
  const name=document.getElementById('custName').value.trim();
  const phone=document.getElementById('custPhone').value.trim();
  if(!name||!phone){alert('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ');return;}
  orders.push({type:'ready', name, phone, bouquet:selectedBouquet.name, price:selectedBouquet.price, time:new Date().toLocaleString()});
  localStorage.setItem('orders', JSON.stringify(orders));
  alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­');
  closeModal();
}

function renderFlowers(){
  const ul=document.getElementById('flowerList');
  ul.innerHTML='';
  flowers.forEach(f=>{ let li=document.createElement('li'); li.textContent=f; ul.appendChild(li); });
}
renderFlowers();

function makeCustomOrder(){
  const count=Number(document.getElementById('customCount').value)||1;
  const color=document.getElementById('customColor').value;
  const wrap=document.getElementById('customWrap').value;
  const wrapPrice=wraps.find(w=>w.name===wrap)?.price||0;
  const total=flowerPrice*count + wrapPrice;
  const name=prompt("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:");
  const phone=prompt("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ:");
  if(!name||!phone){alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ");return;}
  orders.push({type:'custom', name, phone, color, count, wrap, price:total, time:new Date().toLocaleString()});
  localStorage.setItem('orders', JSON.stringify(orders));
  alert(`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ… Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙƒÙ„ÙŠ: ${total} Ø¯.Ø¹`);
}

function fillCustomSelectors(){
  const colorSel=document.getElementById('customColor');
  colorSel.innerHTML='';
  flowers.forEach(f=>{let opt=document.createElement('option'); opt.value=f; opt.textContent=f; colorSel.appendChild(opt);});
  const wrapSel=document.getElementById('customWrap');
  wrapSel.innerHTML='';
  wraps.forEach(w=>{let opt=document.createElement('option'); opt.value=w.name; opt.textContent=`${w.name} (+${w.price} Ø¯.Ø¹)`; wrapSel.appendChild(opt);});
}
fillCustomSelectors();

function sendMessage(){
  const msg=document.getElementById('customerMsg').value.trim();
  const name=document.getElementById('customerName').value.trim();
  const phone=document.getElementById('customerPhone').value.trim();
  if(!msg||!name||!phone){alert('Ø£ÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');return;}
  messages.push({msg,name,phone,time:new Date().toLocaleString()});
  localStorage.setItem('messages',JSON.stringify(messages));
  alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© âœ…');
  document.getElementById('customerMsg').value='';
  document.getElementById('customerName').value='';
  document.getElementById('customerPhone').value='';
}
</script>

</body>
</html>
